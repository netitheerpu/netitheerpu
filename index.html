<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Neti Theerpu Epaper</title>
    <meta name="description" content="Explore the latest news and updates through our interactive ePaper. Stay informed with daily digital editions of newspapers, featuring in-depth articles, breaking news, and more.">
    <link rel="icon" href="logo.png" type="image/x-icon" />
    <meta name="keywords" content="netitheerpu, neti theerpu, telugu epaper, netitheerpu epaper, neti theerpu epaper, neti theerpu telugu paper, netitheerpu telugu epaper"/>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"
    />
    <meta
      name="google-site-verification"
      content="cJqkHl8eMLvQIOd0CRXCLnsk7LvWNTJTSAd5jRzXbrY"
    />
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@6.2.0/swiper-bundle.css"
    />
    <!-- <link rel="stylesheet" href="./src/styles.css" /> -->
    <link rel="stylesheet" href="cropper/cropper.min.css" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <style>
      hr {
        border: 0.8px solid white;
      }

      a {
        text-decoration: none;
        color: white;
      }
      button {
        border: none;
        margin-left: 5px;
        background: transparent;
      }
    </style>
    
  </head>

  <body >
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html"
          ><img src="logo.png" alt="" width="150"
        /></a>
        <button onclick="crop()" style="border: none; background: transparent">
          <img src="crop.png" alt="" width="30px" />
        </button>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a
                class="nav-link"
                href="#change-date"
                data-toggle="modal"
                data-target="#changeDateModal"
                >Change Date</a
              >
            </li>
            <!-- <li class="nav-item">
                        <a class="nav-link" href="#change-edition">Change Edition</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#crop-share">Crop and Share</a>
                    </li>-->
            <li class="nav-item">
              <a
                class="nav-link"
                href="#download-edition"
                data-toggle="modal"
                data-target="#downloadEditionModal"
                >Download Edition</a
              >
            </li>
            <!-- <li class="nav-item">
                        <a class="nav-link" href="#download-page">Download Page</a>
                    </li> -->
            <li class="nav-item">
              <a class="nav-link" href="#contact-us">Contact Us</a>
            </li>
            <!-- ... (other navigation items) ... -->
          </ul>
        </div>
      </nav>
    </header>

    <!-- Modal for Download Edition -->
    <div
      class="modal fade"
      id="downloadEditionModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="downloadEditionModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="downloadEditionModalLabel">
              Download Edition
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!-- Add content for downloading the edition here -->
            <p>You can download the edition by clicking the link below:</p>
            <a
              href="1.pdf"
              download="netitheerpu.pdf"
              id="downloadLink"
              style="color: chartreuse"
              >Download Edition</a
            >
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Change Date -->
    <div
      class="modal fade"
      id="changeDateModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="changeDateModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="changeDateModalLabel">Change Date</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <label for="newDate">Select a New Date:</label>
            <input type="date" id="newDate" class="form-control" />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button id="updateDateBtn" class="btn btn-primary">
              Update Date
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Image Crop and Share -->
    <!-- <div class="modal fade" id="imageCropModal" tabindex="-1" role="dialog" aria-labelledby="imageCropModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageCropModalLabel">Crop and Share Image</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Include the image to be cropped here 
                    <img src="page1.jpg" id="imageToCrop" alt="Image to Crop">
                    <div>
                        <button id="cropImageBtn" class="btn btn-primary mt-2">Crop Image</button>
                        <button id="shareImageBtn" class="btn btn-success mt-2">Share Image</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div> -->
    <div
      class="crop-container"
      style="display: none; justify-content: center; align-items: center"
    >
      <button onclick="doCrop()"><img src="checked.png" width="20px" /></button>
      <button onclick="cancel()">
        <img src="close (3).png" width="25px" alt="" />
      </button>
    </div>

    <!-- Swiper -->
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="swiper-zoom-container">
            <img src="Page1.jpg" id="1" class="swiper-lazy" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="swiper-zoom-container">
            <img src="Page2.jpg" id="2" class="swiper-lazy" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="swiper-zoom-container">
            <img src="Page3.jpg" id="3" class="swiper-lazy" />
          </div>
        </div>
        <div class="swiper-slide">
          <div class="swiper-zoom-container">
            <img src="Page4.jpg" id="4" class="swiper-lazy" />
          </div>
        </div>
      </div>
      <!-- Add Pagination -->
      <div class="swiper-pagination swiper-pagination-white"></div>
      <!-- Add Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>

    <!-- <a style="color: black;" href="whatsapp://send?text=https://epapernetitheerpu.vercel.app" target="_blank">
        Share Image via WhatsApp
      </a> -->

    <!-- Modal -->
    <div
      class="modal fade"
      id="crop-popup"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Croped Image</h5>
            <button><img src="download.png" width="30px" alt="" /></button>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img src="" id="output" alt="" width="100%" />
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <a href="" id="output-d" download="netitheerpu"
              ><button class="btn btn-primary">Download</button></a
            >
          </div>
        </div>
      </div>
    </div>

    <!--FOTTER-->
    <footer
      style="
        font-size: smaller;
        color: white;
        background-color: #3c3d41;
        padding-top: 20px;
      "
    >
      <div class="footer" style="bottom: 0;">
        <div class="container">
          <div class="row">
            <div class="col-md-4">
              <div class="footer-col">నేటి తీర్పు ఇ-పేపర్</div>
              <hr />
            </div>
            <!-- <div class="col-md-4">
                        <div class="footer-col">
                            <h5>Quick Links</h5>
                            <ul class="list-unstyled">
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Contact Us</a></li>
                                <h1><ion-icon name="logo-instagram"></ion-icon></h1>
                            </ul>
                        </div>
                        <hr>
                    </div> -->
            <div class="col-md-4" style="font-size: xx-small">
              <div class="footer-col">
                Contact Information <br />
                <address>
                  printed, published and owned by <br />
                  BS GIRI.<br />
                  Editor: T.S.KRISHNA. <br />
                  18-8-224/5/265, raja narasimha colony, said- abad, hyderabad.
                  printed at KARSHAK PRINTER, O.U.Road, Nallakunta, Vidyanagar,
                  Hyderabad.
                  <br />
                  RNI NO. 22296/2007
                </address>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
   
    <script src="cropper/cropper.min.js"></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script>
      // Get the current date
      const currentDate = new Date();

      // Extract year, month, and day
      const year = currentDate.getFullYear();
      const month = String(currentDate.getMonth() + 1).padStart(2, "0"); // Months are 0-indexed, so we add 1 and pad with leading zeros if needed
      const day = String(currentDate.getDate()).padStart(2, "0"); // Pad day with leading zeros if needed

      // Format the date as "yyyy-MM-dd"
      const formattedDate = `${year}-${month}-${day}`;

      document.addEventListener("DOMContentLoaded", function () {
        const prefix = formattedDate; // The common prefix to add to image sources
        const images = document.querySelectorAll(".swiper-container img");

        images.forEach(function (img) {
          const currentSrc = img.getAttribute("src");
          img.setAttribute("src", prefix + "/" + currentSrc);
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        const prefix = formattedDate; // The common prefix to add to the href attribute
        const downloadLink = document.getElementById("downloadLink");

        // Get the current href attribute value
        const currentHref = downloadLink.getAttribute("href");

        // Update the href attribute with the prefix added
        downloadLink.setAttribute("href", prefix + "/" + currentHref);
      });
    </script>

    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper@6.2.0/swiper-bundle.js"></script>
    <script src="pinch-zoom.js"></script>
    <!-- Initialize Swiper -->
    <script>
      var swiper = new Swiper(".swiper-container", {
        zoom: {
          maxRatio: 6,
        },
        pagination: {
          el: ".swiper-pagination",
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      /* var originalElem = document.getElementById("test");
        var elem = document.createElement("img");
        elem.onload = () => {
            originalElem.parentElement
                .querySelector(".swiper-zoom-container")
                .appendChild(elem);
            originalElem.parentElement
                .querySelector(".swiper-zoom-container")
                .classList.add("zoomed");
            originalElem.parentElement
                .querySelector(".swiper-zoom-container")
                .appendChild(originalElem);
        };*/
    </script>
    <!-- Link to Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      // JavaScript logic for handling date change (if needed)
      document.addEventListener("DOMContentLoaded", function () {
        const newDateInput = document.getElementById("newDate");
        const updateDateBtn = document.getElementById("updateDateBtn");

        updateDateBtn.addEventListener("click", function () {
          const selectedDate = newDateInput.value;
          // You can now use the selectedDate value as needed.
          // For example, you can update content or perform other actions.
          const url = `index1.html?date=${encodeURIComponent(selectedDate)}`;
          window.location.href = url;
        });
      });
    </script>
    <script>
      let cropper;
      let savedZoomLevel;

      function crop() {
        if (cropper) {
          return;
        }
        swiper.zoom.disable();

        savedZoomLevel = swiper.zoom.scale;
        swiper.zoom.out();
        let image = document
          .querySelector(".swiper-slide-active img")
          .getAttribute("id");
        console.log(image);
        swiper.allowTouchMove = false;
        cropper = new Cropper(document.getElementById(image), {
          aspectRatio: 0, // Set your desired aspect ratio here
          minCropBoxWidth: 20,
          minContainerWidth: 0,
          zoomable: false,
          movable: false,
          autoCropArea: 0.3,
          scalable: false,
          background: false,
        });
        document.querySelector(".crop-container").style.display = "flex";
        document.querySelector(".crop-container").style.display = "flex";
      }
      function cancel() {
        swiper.zoom.enable();
        cropper.destroy();
        cropper = null;
        document.querySelector(".crop-container").style.display = "none";
        swiper.allowTouchMove = true;
      }
      function doCrop() {
        swiper.zoom.enable();
        document.querySelector(".crop-container").style.display = "none";
        if (cropper) {
          const canvasData = cropper.getCroppedCanvas().toDataURL("image/jpg");
          console.log(canvasData);
          document.getElementById("output").src = "";
          document.getElementById("output").src = canvasData;
          document.getElementById("output-d").href = "";
          document.getElementById("output-d").href = canvasData;
          document.getElementById("output-d").download = "";
          document.getElementById("output-d").download =
            "netitheerpu_" + formattedDate + "_" + new Date().getTime();
        }
        $("#crop-popup").modal("show");
        cropper.destroy();
        cropper = null;
        swiper.allowTouchMove = true;
      }
      for (i = 1; i <= 4; i++) {
        image_element = document.getElementById(i);
        image_element.addEventListener("contextmenu", function (event) {
          // Prevent the default right-click context menu
          event.preventDefault();
        });
      }
    </script>
  </body>
</html>
